# Практическая работа
## Цели практической работы
- Применить знания об асинхронных задачах в работе с сервисом с реальной бизнес-логикой.
- Научиться применять Celery и Celery Beat в работе с фоновыми задачами.
- Научиться интегрировать Celery и Flower в веб-приложение.

## Что нужно сделать
Создайте сервис обработки изображений — веб-приложение с настоящей бизнес-логикой. 

В материалах мы часто прибегали к задержкам для симуляции вычислений. 

Представьте, что пользователь загружает на сервис некоторое количество изображений, указывая свою почту. Ко всем изображениям применяется эффект размытия. Изображения отправляются ему на почту в виде архива или списка изображений по мере готовности.

Реализуйте следующие endpoint:

- **POST /blur** <br>
Ставит в очередь обработку переданных изображений. Возвращает ID задачи.
- **GET /status/<id>**<br>
Возвращает информацию о задаче: прогресс (количество обработанных задач) и статус (в процессе обработки, обработано, отправлено на почту).
- **POST /subscribe**<br>
Пользователь указывает почту и подписывается на рассылку. Каждую неделю ему будет приходить письмо о сервисе на почту .
- **POST /unsubscribe**<br>
Пользователь указывает почту и отписывается от рассылки.

Функции для обработки изображения и отправки письма уже реализованы, поэтому можете сконцентрироваться на внедрении очереди задач.

## Полезные материалы
- [Celery — Periodic Tasks](https://docs.celeryq.dev/en/stable/userguide/periodic-tasks.html)
- [Sending Emails With Python](https://realpython.com/python-send-email/)
- [Image Processing With the Python Pillow Library](https://realpython.com/image-processing-with-the-python-pillow-library/)

## Что оценивается
- Рассылка реализована с помощью Celery Beat.
- Celery Beat запускается в отдельном процессе.
- Используется Flower для визуализации и мониторинга задач.
- Все функции реализованы и работают корректно.
